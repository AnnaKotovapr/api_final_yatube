<h1>Автор</h1>
<p>Анна Котова</p>

<h1>Описание</h1>
<p></p>
<p>Проект «API для Yatube» представляет собой разработку API для платформы Yatube, которая позволяет пользователям взаимодействовать с контентом, таким как посты, комментарии и подписки. Для разработки API использовались вьюсеты и пермишены для проверки прав доступа, для авторизации в API - JWT-токены.</p>

<h1>Установка</h1>
<p>Для начала работы с проектом, необходимо:</p>

<p>Клонировать репозиторий и перейти в него в командной строке:</p>

<p>git clone git@github.com:AnnaKotovapr/api_final_yatube.git</p>
<p>cd api_final_yatube</p>
<p>Cоздать и активировать виртуальное окружение:</p>

<p>python -m venv venv</p>
<p>source venv/Scripts/activate</p>

<p>Установить зависимости из файла requirements.txt:</p>

<p>python -m pip install --upgrade pip</p>
<p>pip install -r requirements.txt</p>

<p>Для работы с JWT установить библиотеки Djoser и Simple JWT:</p>

<p>pip install djoser djangorestframework-simplejwt==4.7.2</p>

<p>Установить библиотеку django-filter</p>

<p>pip install django-filter</p>

<p>Выполнить миграции:</p>

<p>python manage.py migrate</p>

<p>Запустить проект:</p>

<p>python manage.py runserver</p>


<h1>Примеры запросов</h1>
<h3><p>Получение публикаций</p></h3>
<p>Чтобы получить список всех публикаций необходимо отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/posts/. При указании параметров limit и offset выдача должна работать с пагинацией.</p>

Образец ответа:

    {
        "count": 123,
        "next": "http://api.example.org/accounts/?offset=400&limit=100",
        "previous": "http://api.example.org/accounts/?offset=200&limit=100",
        "results": [
            {..}
        ]
    }

<h3>Создание публикации.</h3>
Добавление новой публикации в коллекцию публикаций POST-запросом на адрес http://127.0.0.1:8000/api/v1/posts/в JSON формате. Анонимные запросы запрещены.

    {
        "text": "string",
        "image": "string",
        "group": 0
    }

Образец ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "pub_date": "2019-08-24T14:15:22Z",
        "image": "string",
        "group": 0
    }

<h3>Получение публикации.</h3>
Чтобы получить публикацию необходимо отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{id}/.

Образец ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "pub_date": "2019-08-24T14:15:22Z",
        "image": "string",
        "group": 0
    }

<h3>Обновление публикации.</h3>
Чтобы обновить публикацию необходимо отправить Put-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{id}/. Обновить публикацию может только автор публикации. Анонимные запросы запрещены.

Обновить образец:

    {
        "text": "string",
        "image": "string",
        "group": 0
    }

Образец ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "pub_date": "2019-08-24T14:15:22Z",
        "image": "string",
        "group": 0
    }

<h3>Частичное обновление публикации:</h3>
Чтобы частично обновить публикацию необходимо отправить Patch-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{id}/. Обновить публикацию может только автор публикации. Анонимные запросы запрещены.

Обновить образец:

    {
        "text": "string",
        "image": "string",
        "group": 0
    }

Образец ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "pub_date": "2019-08-24T14:15:22Z",
        "image": "string",
        "group": 0
    }

<h3>Удаление публикации.</h3>
Чтобы удалить публикацию необходимо отправить Delete-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{id}/. Удалить публикацию может только автор публикации. Анонимные запросы запрещены.

<h3>Получение комментариев.</h3>
Чтобы получить все комментарии к публикации необходимо отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/.

Образец ответа:

[
    {
         "id": 0,
         "author": "string",
         "text": "string",
         "created": "2019-08-24T14:15:22Z",
         "post": 0
    }
]

<h3>Добавление комментария</h3>
Для добавления новой публикации необходимо отправить POST-запрос на адрес http://127.0.0.1:8000/api/v1/posts/4/comments/ в JSON формате:

    {
        "text": "string"
    }

Пример ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "created": "2019-08-24T14:15:22Z",
        "post": 0
    }

<h3>Получение комментария.</h3>
Чтобы получить комментарий к публикации по id нужно отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/{id}/.

Пример ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "created": "2019-08-24T14:15:22Z",
        "post": 0
    }

<h3>Обновление комментария.</h3>
Чтобы обновить комментарий к публикации нужно отправить Put-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/{id}/. Обновить комментарий может только автор комментария. Анонимные запросы запрещены.

    {
        "text": "string"
    }

Пример ответа:
    {
        "id": 0,
        "author": "string",
        "text": "string",
        "created": "2019-08-24T14:15:22Z",
        "post": 0
    }

<h3>Частичное обновление комментария.</h3>
Чтобы частично обновить комментарий необходимо отправить Patch-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/{id}/. Обновить комментарий может только автор комментария. Анонимные запросы запрещены.

    {
        "text": "string"
    }

Пример ответа:

    {
        "id": 0,
        "author": "string",
        "text": "string",
        "created": "2019-08-24T14:15:22Z",
        "post": 0
    }

<h3>Удаление комментария.</h3>
Чтобы частично обновить комментарий необходимо отправить Delete-запрос на адрес http://127.0.0.1:8000/api/v1/posts/{post_id}/comments/{id}/. Обновить комментарий может только автор комментария. Анонимные запросы запрещены.

<h3>Список сообществ.</h3>
Чтобы получить список доступных сообществ необходимо отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/groups/.

Образец ответа:

[
    {
        "id": 0,
        "title": "string",
        "slug": "string",
        "description": "string"
    }
]

<h3>Информация о сообществе.</h3>
Чтобы получить информацию о сообществе по id необходимо отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/groups/{id}/.

Образец ответа:

[
    {
        "id": 0,
        "title": "string",
        "slug": "string",
        "description": "string"
    }
]

<h3>Подписки.</h3>
Возвращает все подписки пользователя, сделавшего запрос. Анонимные запросы запрещены.
Для получения всех подписок пользователя необходимо отправить Get-запрос на адрес http://127.0.0.1:8000/api/v1/follow/

Образец ответа:

[
    {
        "user": "string",
        "following": "string"
    }
]

<h3>Добавление подписки.</h3>
Для добавления новой подписки необходимо отправить POST-запрос на адрес http://127.0.0.1:8000/api/v1/follow/ в JSON формате с именем автора, на которого хотите подписаться:

    {
        "following": "name"
    }

Пример ответа:

    {
        "id": 1,
        "user": "AlexTheSecond",
        "following": "name",
    } 

<h3>Получить JWT-токен.</h3>
Чтобы получить JWT-токен необходимо отправить POST-запрос на адрес http://127.0.0.1:8000/api/v1/jwt/create/.

    {
        "username": "string",
        "password": "string"
    }

Пример ответа:
    {
        "refresh": "string",
        "access": "string"
    }

<h3>Обновить JWT-токен.</h3>
Чтобы обновить JWT-токен необходимо отправить POST-запрос на адрес http://127.0.0.1:8000/api/v1/jwt/refresh/

<h3>Проверить JWT-токен.</h3>
Чтобы проверить JWT-токен необходимо отправить POST-запрос на адрес http://127.0.0.1:8000/api/v1/jwt/verify/
